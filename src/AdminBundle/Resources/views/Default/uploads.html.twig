{% extends ('AdminBundle:layouts:layouts.html.twig') %}
{% block body %}


    <div id="main-content">
        <div class="container-fluid">
            <div class="block-header">
                <div class="row">
                    <div class="col-lg-6 col-md-8 col-sm-12">
                        <h2><a href="javascript:void(0);" class="btn btn-xs btn-link btn-toggle-fullwidth"><i class="fa fa-arrow-left"></i></a> New sharing</h2>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index.html"><i class="icon-home"></i></a></li>                            
                            <li class="breadcrumb-item">Dashbord</li>
                            <li class="breadcrumb-item active">New sharing</li>
                        </ul>
                    </div>            
                    <div class="col-lg-6 col-md-4 col-sm-12 text-right">
                       
                    </div>
                </div>
            </div>

            <div class="row clearfix">
            	                                        <div class="col-lg-12 col-md-12">

<div class="tab-content padding-0">

                        <div class="tab-pane active" id="Basic">
                            <div class="card">
                                <div class="body">







     {% for flashMessage in app.session.flashbag.get('erreurfiles') %}
            <div class="alert alert-danger" role="alert">
                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">x</span>
                    <span class="sr-only">Close</span></button>
               {{ flashMessage }}
            </div>
        {% endfor %}


                                <form action="{{path('uploadsfilesadmin')}}" id="" method="POST" enctype="multipart/form-data">
                                    <div class="row clearfix">
                                        <div class="col-lg-12 col-md-12">

                                        	




<style type="text/css" media="screen">
  .input-file { 
  position:relative; 
  overflow:hidden;  
  padding:0;
  display:block;
  max-width:100%;
  cursor:pointer;
}

.input-file .btn { 
  white-space:nowrap; 
  display:inline-block;
  margin-right:1em;
  vertical-align:top;
}

.input-file .material-icons {
  float:left;
  font-size:16px; 
  line-height:inherit;
  margin-right:4px;
}

.input-file ins { 
  white-space:nowrap; 
  display: block;
  max-width:100%; 
  overflow:hidden; 
  text-overflow:ellipsis; 
  font-size:12px;
}

.input-file:after {
  content:""; 
  display:block; clear:both; 
} 

.input-file input { 
  width:0.1px; 
  height:0.1px;
  opacity:0;
  overflow:hidden;
  position:absolute; 
  top:-100px;
  z-index:-1; 
}
</style>




                                           
                            <div class="form-group">
                                    <input type="text" class="form-control"  id="signin-email" name="title" required="" type="text"
                                       placeholder="Title">
                                </div>

     
     <br>


                            <div class="form-group">
                                    <input type="file" class="form-control"  id="signin-email" name="fichier" required="" type="text"
                                       placeholder="Title">
                                </div>



                                 <br>
 <div class="form-group">

    <textarea  class="form-control" required=""   placeholder="Description" name="description"></textarea>
                                    
                                </div>



 <div class="progress">  
       <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">

        <span class="pourcentage">
       </span></div>
      </div>

      <br>
<div class="succ">
      

</div>
      <br>
                                    <button type="submit" class="btn btn-primary">Send</button> &nbsp;&nbsp;
                                    <button type="button" class="btn btn-default">Cancel</button>
                                </div>
                            </form>
                            </div>
                        </div>
                      

                    </div>
                   

            </div>
        </div>
    </div>
</div>

	{% endblock %}


                {% block js %}


<script src="{{asset('assets/bundles/libscripts.bundle.js')}}"></script>    
<script src="{{asset('assets/bundles/vendorscripts.bundle.js')}}"></script>

<script src="{{asset('assets/bundles/mainscripts.bundle.js')}}"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.js"></script>    


<script src="{{asset('dropzone/assets/js/dropzone.min.js')}}"></script>

  <!-- Main JS file -->
  <script src="{{asset('dropzone/assets/js/scripts.js')}}"></script>
<script>
$(document).ready(function(){
 $('#uploadImage').submit(function(event){

  if($('#uploadFile').val())
  {
   event.preventDefault();
   $('#loader-icon').show();
   $('#targetLayer').hide();
   $(this).ajaxSubmit({
    target: '#targetLayer',
    beforeSubmit:function(){
     $('.progress-bar').width('2%');
    },
    uploadProgress: function(event, position, total, percentageComplete)
    {

        console.log(percentageComplete);

        $('.pourcentage').html(''+percentageComplete+'  %');
$('.progress-bar').css({ "width": ''+percentageComplete+'%'});

if(percentageComplete==100){
              $('.succ').append('<div class="alert alert-success" > <strong>Documents sent successfully!</strong> </div>');

}
  
    },
    successSubmit:function(){
alert('cc');
    },
    resetForm: true
   });
  }
  return false;
 });
});
</script>



<script>
//Optional code to show the file names

$('.fileInput').change(function() {
  var numfiles = $(this)[0].files.length;
  var parent = $(this).closest('.input-file');
  parent.find('ins').remove();
  for (i = 0; i < numfiles; i++) { 
    parent.append('<ins>' + $(this)[0].files[i].name + '</ins>')
  }
});

</script>



<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css'>
<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js'></script>
<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js'></script>


<script type="text/javascript">

</script>
    {% endblock %}
